<!doctype html>
<html lang="en">
<%- include('../partials/head') %>

    <body>
        <!-- Header -->
        <%- include('../partials/header') %>
            <!-- MAIN -->
            <main>
                <!-- MENÚ DE NAVEGACIÓN -->
                <section class="dash__section">
                    <div class="dash__container">
                        <div class="dashboard__section__container">
                            <button><i class="fa-solid fa-cart-shopping"></i></button><a href="#articulos_en_venta">
                                <p>Artículos en Venta</p>
                            </a>
                            <button><i class="fa-solid fa-plus"></i></button><a href="#agregar_producto">
                                <p>Agregar Producto</p>
                            </a>
                            <button><i class="fa-solid fa-pen-to-square"></i></button><a href="#editar_producto">
                                <p>Editar Producto</p>
                            </a>
                            <button><i class="fa-solid fa-user"></i></button><a href="#usuarios">
                                <p>Usuarios</p>
                            </a>
                        </div>
                    </div>
                </section>
                <!-- ESTADÍSTICAS -->
                <div class="estadisticas">
                    <section class="estadisticas__section">
                        <div class="estadisticas__container">
                            <h2>Ventas Totales</h2>
                            <p>0000</p>
                        </div>
                        <div class="estadisticas__container">
                            <h2>Usuarios Registrados</h2>
                            <p>0000</p>
                        </div>
                        <div class="estadisticas__container">
                            <h2>Visitas Totales</h2>
                            <p>0000</p>
                        </div>
                        <div class="estadisticas__container">
                            <h2>Ofertas Vendidas</h2>
                            <p>0000</p>
                        </div>
                    </section>
                </div>
                <!-- ARTICULOS EN VENTA -->
                <div>
                    <div>
                        <section class="dash__section">
                            <div class="lista__container">
                                <h2 id="articulos_en_venta">Artículos en venta</h2>
                                <div>
                                    <table class="table">
                                        <table class="table table-dark table-sm">
                                            <thead class="table-light">
                                                <tr>
                                                    <th scope="col">#</th>
                                                    <th scope="col">Producto</th>
                                                    <th scope="col">Código</th>
                                                    <th class="table__email" scope="col">Precio</th>
                                                    <th></th>
                                                    <th scope="col"><i class="fa-solid fa-trash"></i></th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <% products.forEach(product => { %>
                                                <tr>
                                                    <th scope="row"><%= product.id %></th>
                                                    <td><%= product.name %></td>
                                                    <td><%= product.code %></td>
                                                    <td class="table__email">$<%= product.price %></td>
                                                    <td><form action="/admin/dashboard/edit/<%= product.id %>" method="get" class=""><button class="boton__general">Edit</button></form></td>
                                                    <td><a href="/product/remove/<%= product.id %>"><i class="fa-solid fa-trash"></i></a>
                                                </tr>
                                                <% }) %>
                                            </tbody>
                                        </table>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
                <!-- AÑADIR PRODUCTO -->
                <div class="producto__container">
                    <div class="producto">
                        <form action="" method="post" enctype="multipart/form-data">
                        <section>
                            <h3 id="agregar_producto">Agregar Producto</h3>
                            <div class="form__box__login">
                                <label for="name">Introducir Nombre</label>
                                <input type="text" name="name" placeholder="Ejemplo: HyperX Cloud Flight" />
                            </div>
                            <div class="form__box__login">
                                <label for="code">Introducir Código</label>
                                <input type="text" name="code" placeholder="Ejemplo: 987-654-321" />
                            </div>
                            <div class="form__box__login">
                                <label for="price">Introducir Precio</label>
                                <input type="number" name="price" placeholder="Ejemplo: $25.999" />
                            </div>
                        </section>
                        <section class="producto__file">
                            <h3>Añadir Imágenes</h3>
                            <input type="file" name="images" id="images" multiple>
                        </section>
                        <section>
                            <h3>Añadir Descripción</h3>
                            <div class="form__box__login">
                                <label for="description">Descripción del Producto</label>
                                <input type="text" name="description" placeholder="Introducir Texto..." />
                            </div>
                        </section>
                        <section>
                            <div class="form__box__login">
                                <label for="subDescription">Sub-Descripcion</label>
                                <input type="text" name="subDescription" placeholder="Introducir Texto..." />
                            </div>
                            <div class="main__info__section select">
                                <p>Seleccione si el producto posee descuento o no.</p>
                                <label for="discount">Descuento:</label>
                                <select name="discount" id="discount">
                                    <optgroup label="Descuento">
                                        <option value="" selected hidden>Seleccione...</option>
                                        <option value="true">Con descuento</option>
                                        <option value="false">Sin descuento</option>
                                    </optgroup>
                                </select>
                                <br><br>
                            </div>
                            <div class="form__box__login">
                                <label for="discountAmount">Porcentaje de Descuento</label>
                                <input type="text" name="discountAmount" placeholder="Introducir porcentaje de Descuento..." />
                            </div>
                            <div class="main__info__section select">
                                <p>Seleccionar Categoria</p>
                                <label for="category">Categorias:</label>
                                <select name="category" id="category">
                                    <optgroup label="Categorias">
                                        <option value="" selected hidden>Seleccione...</option>
                                        <% categories.forEach(category => { %>
                                        <option value="<%= category.name %>"><%= category.name %></option> 
                                        <% }) %>
                                    </optgroup>
                                </select>
                                <br><br>
                            </div>
                        </section>
                        <div class="article1__boton__general button">
                            <button class="boton__general" type="submit">
                                Enviar
                            </button>
                        </div>                            
                        </form>
                    </div>
                </div>

                <!-- LISTA DE USUARIOS -->
                <div>
                    <section class="dash__section">
                        <div class="lista__container">
                            <h2 id="usuarios">USUARIOS REGISTRADOS</h2>
                            <div>
                                <table class="table">
                                    <table class="table table-dark table-sm">
                                        <thead class="table-light">
                                            <tr>
                                                <th scope="col">#</th>
                                                <th scope="col">Usuario</th>
                                                <th scope="col">Número</th>
                                                <th class="table__email" scope="col">Email</th>
                                                <th scope="col"><i class="fa-solid fa-trash"></i></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <% users.forEach(user => { %>
                                                <tr>
                                                    <th scope="row"><%= user.id %></th>
                                                    <td><%= user.userName %></td>
                                                    <td><%= user.phone %></td>
                                                    <td class="table__email"><%= user.email %></td>
                                                    <td><a href="/user/remove/<%= user.id %>"><i class="fa-solid fa-trash"></i></a>
                                                </tr>
                                            <% }) %>
                                        </tbody>
                                    </table>
                            </div>
                        </div>
                    </section>
                </div>
                <!-- ARROWS -->
                <div class="flechas__navegador">
                    <i class="fa-solid fa-arrow-left"></i>
                    <a href="">1</a>
                    <a href="">2</a>
                    <a href="">3</a>
                    <i class="fa-solid fa-arrow-right"></i>
                </div>
            </main>
            <!-- Footer -->
            <%- include('../partials/footer') %>
                <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
                    integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
                    crossorigin="anonymous"></script>
    </body>

</html>